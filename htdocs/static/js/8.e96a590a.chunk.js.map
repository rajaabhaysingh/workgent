{"version":3,"sources":["components/layouts/dashboard/dashboardBody/Applications.js","contexts/actions/jobs/getMyApplications.js"],"names":["Applications","history","useHistory","useContext","GlobalContext","myApplicationsDispatch","myApplicationsState","myApplications","myApplicationsLoading","myApplicationsError","myApplicationsData","useEffect","dispatch","type","MY_APPLICATIONS_LOADING","axiosInstance","get","then","response","MY_APPLICATIONS_SUCCESS","payload","data","catch","error","MY_APPLICATIONS_ERROR","CONNECTION_ERROR","getMyApplications","console","log","className","results","length","map","item","key","id","src","job","logo_image","placeholder","alt","title","villageCity","address","TimestampToTime","creation_time","Date","status","renderApplications"],"mappings":"uLA8IeA,UAvIM,WACnB,IAAMC,EAAUC,cADS,EAarBC,qBAAWC,KARbC,EALuB,EAKvBA,uBALuB,IAMvBC,oBACEC,eACEC,EARmB,EAQnBA,sBACAC,EATmB,EASnBA,oBACAC,EAVmB,EAUnBA,mBAKNC,qBAAU,YCbG,SAACV,GAAD,OAAa,SAACW,GAE3BA,EAAS,CACPC,KAAMC,MAGRC,YAAcd,GACXe,IAAI,yBACJC,MAAK,SAACC,GACLN,EAAS,CACPC,KAAMM,IACNC,QAASF,EAASG,UAGrBC,OAAM,SAACC,GACNX,EAAS,CACPC,KAAMW,IACNJ,QAASG,EAAML,SAAWK,EAAML,SAASG,KAAOI,UDHpDC,CAAkBzB,EAAlByB,CAA2BrB,KAC1B,IAEHsB,QAAQC,IACN,kBACApB,EACAC,EACAC,GAqFF,OACE,yBAAKmB,UAAU,2BACb,yBAAKA,UAAU,8DACb,yBAAKA,UAAU,4BACb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,YAAf,mBACA,yBAAKA,UAAU,sBAAf,wDAMJ,yBAAKA,UAAU,oBACb,yBAAKA,UAAU,kBAAf,uBAvEmB,WAAO,IAAD,EAC/B,OAAsB,OAAlBnB,QAAkB,IAAlBA,GAAA,UAAAA,EAAoBoB,eAApB,eAA6BC,QAAS,EAEtC,yBAAKF,UAAU,6BACZnB,EAAmBoB,QAAQE,KAAI,SAACC,GAAD,OAC9B,yBAAKJ,UAAU,kCAAkCK,IAAKD,EAAKE,IACzD,yBAAKN,UAAU,MACb,yBACEA,UAAU,2BACVO,IAAKH,EAAKI,IAAIC,YAAcC,IAC5BC,IAAI,KAEN,yBAAKX,UAAU,iBACb,yBAAKA,UAAU,iBAAiBI,EAAKI,IAAII,OAAS,OAClD,yBAAKZ,UAAU,qBACb,uBAAGA,UAAU,kCACZI,EAAKI,IAAIK,aAAe,GAF3B,IAEgC,IAC7BT,EAAKI,IAAIM,SAAW,0BAI3B,yBAAKd,UAAU,sBACb,yBAAKA,UAAU,MACb,uBAAGA,UAAU,6BACZe,YACCX,EAAKY,eAAiB,IAAIC,KAAK,cAC/B,uBAhDD,aAAXC,EAEA,yBAAKlB,UAAU,qDAAf,YAIkB,aAAXkB,EAEP,yBAAKlB,UAAU,oDAAf,YAMA,yBAAKA,UAAU,qDAAf,aAfe,IAACkB,MA4DhB,yBAAKlB,UAAU,4DACb,uBAAGA,UAAU,uCACb,6HAiCCmB,KAGL,yBAAKnB,UAAU,mDACb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,kBAAf,uBA1BJ,yBAAKA,UAAU,4DACb,uBAAGA,UAAU,uCACb","file":"static/js/8.e96a590a.chunk.js","sourcesContent":["import React, { useContext, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { GlobalContext } from \"../../../../contexts/Provider\";\nimport getMyApplications from \"../../../../contexts/actions/jobs/getMyApplications\";\nimport placeholder from \"../../../../res/jobs/placeholder.svg\";\nimport { TimestampToTime } from \"../../../../Utilities\";\n\nconst Applications = () => {\n  const history = useHistory();\n\n  // fetching my applications\n  const {\n    myApplicationsDispatch,\n    myApplicationsState: {\n      myApplications: {\n        myApplicationsLoading,\n        myApplicationsError,\n        myApplicationsData,\n      },\n    },\n  } = useContext(GlobalContext);\n\n  useEffect(() => {\n    getMyApplications(history)(myApplicationsDispatch);\n  }, []);\n\n  console.log(\n    \"My applications\",\n    myApplicationsLoading,\n    myApplicationsError,\n    myApplicationsData\n  );\n\n  // renderStatus\n  const renderStatus = (status) => {\n    if (status === \"Accepted\") {\n      return (\n        <div className=\"pad_4-12 fsxs fwb round-side bg_succ fc_white fcc\">\n          ACCEPTED\n        </div>\n      );\n    } else if (status === \"Rejected\") {\n      return (\n        <div className=\"pad_4-12 fsxs fwb round-side bg_err fc_white fcc\">\n          REJECTED\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"pad_4-12 fsxs fwb round-side bg_warn fc_white fcc\">\n          PENDING\n        </div>\n      );\n    }\n  };\n\n  // renderApplications\n  const renderApplications = () => {\n    if (myApplicationsData?.results?.length > 0) {\n      return (\n        <div className=\"fcol job_list bb mar_t-16\">\n          {myApplicationsData.results.map((item) => (\n            <div className=\"fcol job_card_pvt pad-16 bb cur\" key={item.id}>\n              <div className=\"fc\">\n                <img\n                  className=\"h-40 w-40 round-complete\"\n                  src={item.job.logo_image || placeholder}\n                  alt=\"\"\n                />\n                <div className=\"fcol mar_l-12\">\n                  <div className=\"fsm fwb ellip\">{item.job.title || \"N/A\"}</div>\n                  <div className=\"mar_t-4 fss fc_5c\">\n                    <i className=\"fas fa-map-marker-alt mar_r-8\"></i>\n                    {item.job.villageCity || \"\"},{\" \"}\n                    {item.job.address || \"Location unavailable\"}\n                  </div>\n                </div>\n              </div>\n              <div className=\"mar_t-8 fsxs fc_bw\">\n                <div className=\"fc\">\n                  <i className=\"fas fss fa-clock mar_r-4\"></i>\n                  {TimestampToTime(\n                    item.creation_time || new Date(\"01 01 2020\"),\n                    \"dd Mmm yyyy, hh:mm\"\n                  )}\n                </div>\n                {renderStatus()}\n              </div>\n            </div>\n          ))}\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"pad-16 round-4 bg_pri-light fc_pri fss mar_t-16 vis-flex\">\n          <i className=\"fas fa-info-circle mar_r-8 mar_t-2\"></i>\n          <span>\n            No ongoing applications available. Apply for a job and track your\n            application status here.\n          </span>\n        </div>\n      );\n    }\n  };\n\n  // helper fn to render history below\n  const renderEmptyContent = () => {\n    return (\n      <div className=\"pad-16 round-4 bg_pri-light fc_pri fss mar_t-16 vis-flex\">\n        <i className=\"fas fa-info-circle mar_r-8 mar_t-2\"></i>\n        <span>No content available here.</span>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"fcol w-100 h-100 of-scr\">\n      <div className=\"dash_body_box fcol f1 bb bg_white round-8 pad_pc-32_mob-16\">\n        <div className=\"f_lrtb w-100 pc_space_bw\">\n          <div className=\"fcol\">\n            <div className=\"fsxl fwb\">My Applications</div>\n            <div className=\"fsxs fc_8a mar_t-8\">\n              View/update details of your job applications here.\n            </div>\n          </div>\n        </div>\n        {/* previously posted jobs list */}\n        <div className=\"fcol mar_t-32 f1\">\n          <div className=\"fsm fc_sec fwb\">Recent applications</div>\n          {renderApplications()}\n        </div>\n      </div>\n      <div className=\"dash_body_box bg_white round-8 pad_pc-32_mob-16\">\n        <div className=\"fcol\">\n          <div className=\"fsm fc_sec fwb\">Application history</div>\n          {renderEmptyContent()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Applications;\n","import axiosInstance from \"../../../helpers/axiosInstance\";\n\nimport {\n  MY_APPLICATIONS_LOADING,\n  MY_APPLICATIONS_SUCCESS,\n  MY_APPLICATIONS_ERROR,\n} from \"../../../constants/actionTypes\";\nimport { CONNECTION_ERROR } from \"../../../constants/api\";\n\nexport default (history) => (dispatch) => {\n  // dispatching loading first\n  dispatch({\n    type: MY_APPLICATIONS_LOADING,\n  });\n\n  axiosInstance(history)\n    .get(\"/jobs/my/application/\")\n    .then((response) => {\n      dispatch({\n        type: MY_APPLICATIONS_SUCCESS,\n        payload: response.data,\n      });\n    })\n    .catch((error) => {\n      dispatch({\n        type: MY_APPLICATIONS_ERROR,\n        payload: error.response ? error.response.data : CONNECTION_ERROR,\n      });\n    });\n};\n"],"sourceRoot":""}