{"version":3,"sources":["components/layouts/jobs/JobCardPrivate.js","components/layouts/dashboard/dashboardBody/postings/PostingsBase.js","contexts/actions/jobs/getMyJobs.js"],"names":["JobCardPrivate","job","sendDeleteRequest","alert","className","src","logo_image","placeholder","alt","style","maxWidth","title","villageCity","address","nested","trigger","top","right","position","on","closeOnDocumentClick","mouseLeaveDelay","mouseEnterDelay","contentStyle","padding","border","arrow","mainClose","modal","subClose","onClick","vacancy_count","emp_type","duration","duration_unit","fontSize","TimestampToTime","date_of_creation","Date","total_submitted","PostingsBase","url","useRouteMatch","history","useHistory","useContext","GlobalContext","myJobsDispatch","myJobsState","myJobs","loading","data","error","useEffect","dispatch","type","MY_JOBS_LOADING","axiosInstance","get","then","response","MY_JOBS_SUCCESS","payload","catch","MY_JOBS_ERROR","CONNECTION_ERROR","getMyJobs","push","color","highlightColor","circle","height","width","count","marginTop","results","length","map","key","id","renderJobs","renderHistory"],"mappings":"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","file":"static/js/15.df33394d.chunk.js","sourcesContent":["import React from \"react\";\nimport Popup from \"reactjs-popup\";\n\nimport placeholder from \"../../../res/jobs/placeholder.svg\";\nimport { TimestampToTime } from \"../../../Utilities\";\n\nconst JobCardPrivate = ({ job }) => {\n  // sendDeleteRequest\n  const sendDeleteRequest = () => {\n    // handle detete here\n    alert(\"deleted\");\n  };\n\n  return (\n    <div className=\"fcol job_card_pvt pad-16 bb cur\">\n      <div className=\"vis-flex pos_rel\">\n        <img\n          className=\"h-40 w-40 round-complete\"\n          src={job.logo_image ? job.logo_image : placeholder}\n          alt=\"\"\n        />\n        <div\n          style={{ maxWidth: \"calc(100% - 88px)\" }}\n          className=\"mar_l-12 fcol\"\n        >\n          <div className=\"fss fwb ellip\">{job.title || \"N/A\"}</div>\n          <div className=\"mar_t-4 fsxs ellip fc_5c\">\n            <i className=\"fas fa-map-marker-alt mar_r-8\"></i>\n            {job.villageCity || \"Location unavailable\"}, {job.address || \"\"}\n          </div>\n        </div>\n        <Popup\n          nested\n          trigger={\n            <button\n              style={{ top: \"-8px\", right: \"-12px\" }}\n              className=\"btn cur pos_abs mar-4 h-32p w-32p round-complete bg_trans btn_gray\"\n            >\n              <i className=\"fas fa-ellipsis-v\"></i>\n            </button>\n          }\n          position=\"left top\"\n          on=\"click\"\n          closeOnDocumentClick\n          mouseLeaveDelay={250}\n          mouseEnterDelay={0}\n          contentStyle={{ padding: \"0px\", border: \"none\" }}\n          arrow={false}\n        >\n          {(mainClose) => (\n            <div className=\"card_menu fss fcol round-8\">\n              <Popup\n                trigger={\n                  <div className=\"card_menu_item fc\">\n                    <i className=\"fas fa-trash-alt mar_r-8\"></i>Delete posting\n                  </div>\n                }\n                modal\n                className=\"cnf_popup-dark\"\n              >\n                {(subClose) => (\n                  <div className=\"fcol bg_ter-light round-8 pad-16\">\n                    <div className=\"fsm fwb fc_white w-100 align-c\">\n                      Delete \"{job.title || \"\"}\" ?\n                    </div>\n                    <div className=\"w-100 mar_t-16 pad-16 bb fc_white fss round-8 bg_ter vis-flex\">\n                      <i className=\"fas fa-info-circle mar_r-8 mar_t-2\"></i>\n                      <span>\n                        You will no longer receive any job application on this\n                        post. However, you can still access its details in the\n                        history section. Proceed to delete ?\n                      </span>\n                    </div>\n                    <div className=\"fcc mar_t-32\">\n                      <button\n                        className=\"btn bg_gray-light h-32p w-80p fc_8a round-4 fwb cur\"\n                        onClick={() => {\n                          subClose();\n                          mainClose();\n                        }}\n                      >\n                        Cancel\n                      </button>\n                      <button\n                        className=\"btn mar_l-32 bg_err h-32p w-80p fc_white round-4 fwb cur\"\n                        onClick={sendDeleteRequest}\n                      >\n                        Delete\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </Popup>\n              <div className=\"card_menu_item\">\n                <i className=\"fas fa-share-square mar_r-8\"></i>Share\n              </div>\n            </div>\n          )}\n        </Popup>\n      </div>\n      <div className=\"no_wrap fss mar_t-8 fc\">\n        <div className=\"fcc\">\n          <span className=\"fc_5c mar_r-4\">Require:</span>\n          <span className=\"fwb fc_sec\">\n            {job.vacancy_count || \"N/A\"} {job.emp_type || \"Person\"}\n          </span>\n        </div>\n        <div className=\"mar_0-4 fwb fc_5c fsxs\">for</div>\n        <div className=\"fwb fc_sec\">\n          {job.duration || \"N/A\"} {job.duration_unit || \"N/A\"}\n        </div>\n      </div>\n      <div className=\"fc_bw mar_t-8\">\n        <span className=\"fc_5c fc mar_r-4\">\n          <i className=\"fas fss fa-clock mar_r-4\"></i>\n          <span style={{ fontSize: \"0.7rem\" }}>\n            {TimestampToTime(\n              job.date_of_creation || new Date(),\n              \"dd Mmm yyyy, hh:mm\"\n            )}\n          </span>\n        </span>\n        <span className=\"fc_5c fc fsxs\">\n          Applications received:{\" \"}\n          <span className=\"fc_sec mar_l-4 fwb\">\n            {job.total_submitted || \"0\"}\n          </span>\n        </span>\n      </div>\n    </div>\n  );\n};\n\nexport default JobCardPrivate;\n","import React, { useContext, useEffect } from \"react\";\nimport { useRouteMatch, useHistory } from \"react-router-dom\";\n\nimport Skeleton, { SkeletonTheme } from \"react-loading-skeleton\";\n\nimport JobCardPrivate from \"../../../jobs/JobCardPrivate\";\nimport { GlobalContext } from \"../../../../../contexts/Provider\";\nimport getMyJobs from \"../../../../../contexts/actions/jobs/getMyJobs\";\n\n// helper fn to render jobs below\nconst renderJobs = (data) => {\n  if (data.results?.length > 0) {\n    return (\n      <div className=\"fcol job_list bb mar_t-16\">\n        {data.results.map((job) => (\n          <JobCardPrivate key={job.id} job={job} />\n        ))}\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"pad-16 round-4 bg_pri-light fc_pri fss mar_t-16 vis-flex\">\n        <i className=\"fas fa-info-circle mar_r-8 mar_t-2\"></i>\n        <span>\n          No ongoing recruitment available. You can post a new job to\n          hire/recruit workforce(es).\n        </span>\n      </div>\n    );\n  }\n};\n\n// helper fn to render history below\nconst renderHistory = (data) => {\n  if (data?.results?.length > 0) {\n    return (\n      <div className=\"fcol job_list bb mar_t-16\">\n        {data.results.map((job) => (\n          <JobCardPrivate key={job.id} job={job} />\n        ))}\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"pad-16 round-4 bg_pri-light fc_pri fss mar_t-16 vis-flex\">\n        <i className=\"fas fa-info-circle mar_r-8 mar_t-2\"></i>\n        <span>No postings history available.</span>\n      </div>\n    );\n  }\n};\n\n// renderPlaceholder\nconst renderPlaceholder = () => {\n  return (\n    <div style={{ maxWidth: \"320px\" }} className=\"fcol mar_t-16 of-hid\">\n      <SkeletonTheme color=\"#8a8a8a\" highlightColor=\"#ffffff\">\n        <div className=\"fc\">\n          <Skeleton circle={true} height={40} width={40} />\n          <div className=\"fcol mar_l-8\">\n            <Skeleton count={1} width={250} height={16} />\n            <Skeleton\n              style={{ marginTop: \"4px\" }}\n              count={1}\n              width={140}\n              height={10}\n            />\n          </div>\n        </div>\n        <div className=\"fcol mar_t-16\">\n          <Skeleton count={1} width={300} height={12} />\n          <Skeleton\n            style={{ marginTop: \"4px\" }}\n            count={1}\n            width={300}\n            height={12}\n          />\n        </div>\n        <div className=\"fc mar_t-32\">\n          <Skeleton circle={true} height={40} width={40} />\n          <div className=\"fcol mar_l-8\">\n            <Skeleton count={1} width={250} height={16} />\n            <Skeleton\n              style={{ marginTop: \"4px\" }}\n              count={1}\n              width={140}\n              height={10}\n            />\n          </div>\n        </div>\n        <div className=\"fcol mar_t-16\">\n          <Skeleton count={1} width={300} height={12} />\n          <Skeleton\n            style={{ marginTop: \"4px\" }}\n            count={1}\n            width={300}\n            height={12}\n          />\n        </div>\n      </SkeletonTheme>\n    </div>\n  );\n};\n\nconst PostingsBase = () => {\n  let { url } = useRouteMatch();\n  const history = useHistory();\n\n  const {\n    myJobsDispatch,\n    myJobsState: {\n      myJobs: { loading, error, data },\n    },\n  } = useContext(GlobalContext);\n\n  useEffect(() => {\n    getMyJobs(history)(myJobsDispatch);\n  }, []);\n\n  // handlePostNewJob\n  const handlePostNewJob = () => {\n    history.push(`${url}/new_post`);\n  };\n\n  return (\n    <div className=\"fcol w-100 h-100 of-scr\">\n      <div className=\"dash_body_box fcol f1 bb bg_white round-8 pad_pc-32_mob-16\">\n        <div className=\"f_lrtb w-100 pc_space_bw\">\n          <div className=\"fcol\">\n            <div className=\"fsxl fwb\">My postings</div>\n            <div className=\"fsxs fc_8a mar_t-8\">\n              View/update the details of your job postings here.\n            </div>\n          </div>\n          <button\n            className=\"dash_opt_btn-1 btn cur fsm fcc mob_mar_t-32 pad_8-16 round-4 bg_pri fc_white fwb bb\"\n            onClick={handlePostNewJob}\n          >\n            <i className=\"fas fa-plus mar_r-8\"></i>Post new job\n          </button>\n        </div>\n        {/* previously posted jobs list */}\n        <div className=\"fcol mar_t-32 f1\">\n          <div className=\"fsm fc_sec fwb\">Ongoing recruitments</div>\n          {loading ? renderPlaceholder() : renderJobs(data)}\n        </div>\n      </div>\n      <div className=\"dash_body_box bg_white round-8 pad_pc-32_mob-16\">\n        <div className=\"fcol\">\n          <div className=\"fsm fc_sec fwb\">Postings history</div>\n          {renderHistory()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PostingsBase;\n","import axiosInstance from \"../../../helpers/axiosInstance\";\n\nimport {\n  MY_JOBS_ERROR,\n  MY_JOBS_LOADING,\n  MY_JOBS_SUCCESS,\n} from \"../../../constants/actionTypes\";\nimport { CONNECTION_ERROR } from \"../../../constants/api\";\n\nexport default (history) => (dispatch) => {\n  // dispatching loading first\n  dispatch({\n    type: MY_JOBS_LOADING,\n  });\n\n  axiosInstance(history)\n    .get(\"/jobs/my/?ordering=-date_of_creation\")\n    .then((response) => {\n      dispatch({\n        type: MY_JOBS_SUCCESS,\n        payload: response.data,\n      });\n    })\n    .catch((error) => {\n      dispatch({\n        type: MY_JOBS_ERROR,\n        payload: error.response ? error.response.data : CONNECTION_ERROR,\n      });\n    });\n};\n"],"sourceRoot":""}